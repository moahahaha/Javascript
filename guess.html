<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--Guess the number game-->
    <h1>Guess the number</h1>
    <h3 id="timer">Tid: 0 sek</h3>

    <input id="gjette_felt"type="number">
    <button id="gjette_knapp">Guess</button>
    <h1 id="nooo"></h1>
    <h3 id="tilbakemelding"></h3>
    <h4 id="lol"></h4>
    <h4 id="haha"></h4>
    <h4 id="antall_forsøk"></h4>
    <h4 id="remaning_tries"></h4>
    <button id="igjen">Play again</button>
    <h4 id="riktige_gjett"></h4>
    <h4 id="tilbakemelding_riktige"></h4>
    
    
   

    <script>

        var gjette_felt = document.querySelector('#gjette_felt')
        var knapp = document.querySelector('#gjette_knapp')
        var game_over = document.querySelector('#nooo')
        var tilbakemelding = document.querySelector('#tilbakemelding')
        var igjen_knapp = document.querySelector('#igjen')
        var antall_gjett = document.querySelector('#antall_forsøk')
        var remaning_guess = document.querySelector('#remaning_tries')
        var tilbakemelding_forsøk = document.querySelector('#lol')
        var tilbakemelding_remaning = document.querySelector('#haha')
        var timer = document.querySelector('#timer')
        var antall_riktige = document.querySelector('#riktige_gjett')
        var tilbakemld_riktige = document.querySelector('#tilbakemelding_riktige')
        var riktig = false

        antall_gjett = 0
        remaning_tries = 10
        antall_riktige = 0
        
        function clear_text() {
            //.
            clearTimeout(myTimeout);
          }

        function gjett(){ // funksjon som kjører når vi trykker på knapp
            //hente tallet vi skrev inn. Leser verdi fra gjette_felt.
            console.log(gjette_felt.value)

            gjettet_tall = gjette_felt.value

            antall_gjett +=1
            remaning_tries -= 1
            tilbakemld_riktige.innerHTML = 'Antall riktige gjett: ' + antall_riktige
            
            
              
            if (gjettet_tall > tilfeldig_tall) {
                tilbakemelding.innerHTML = 'Tallet er for høyt'
                tilbakemelding_forsøk.innerHTML = 'Antall forsøk brukt: '+ antall_gjett
                tilbakemelding_remaning.innerHTML = 'Antall forsøk igjen: '+remaning_tries

                    if (remaning_tries < 1) {
                        const myTimeout = setTimeout(clear_text, 2000);
                        game_over.innerHTML = 'Game over. Generer nytt tall'
                        
                        restart()

                    }
                
            } else if (gjettet_tall < tilfeldig_tall) {
                tilbakemelding.innerHTML = 'Tallet er for lavt'
                tilbakemelding_forsøk.innerHTML = 'Antall forsøk brukt: '+ antall_gjett
                tilbakemelding_remaning.innerHTML = 'Antall forsøk igjen: '+remaning_tries
                    if (remaning_tries < 1) {
                        game_over.innerHTML = 'Game over. Generer nytt tall'
                        restart()

                    }

            } else if (gjettet_tall == tilfeldig_tall) {
                riktig = true
                tilbakemelding.innerHTML = 'Det er riktig :D'
                tilbakemelding_forsøk.innerHTML = 'Antall forsøk brukt: '+ antall_gjett
                tilbakemelding_remaning.innerHTML = 'Antall forsøk igjen: '+remaning_tries
                antall_riktige += 1
                tilbakemld_riktige.innerHTML = 'Antall riktige gjett: ' + antall_riktige
            }
          
           
          

        }

        function restart(){
            tilfeldig_tall = Math.floor(Math.random() * 100);
            antall_gjett = 0
            remaning_tries = 10
            teller = 0
            console.log(tilfeldig_tall)
            riktig = false 
        }

        knapp.addEventListener('click', gjett)
        igjen_knapp.addEventListener('click', restart)

        var tilfeldig_tall = Math.floor(Math.random() * 100);
        console.log(tilfeldig_tall)

        var teller=0
        function myTimer(){
            if (riktig == true)
            timer.innerHTML = 'Tid: ' + teller +' sek'

            else if (riktig == false) {
            console.log('timer: ' + teller)
            teller++
            timer.innerHTML = 'Tid: ' + teller +' sek'
            }
            
        }
        
        setInterval(myTimer, 1000) //kjører funkjonen myTimer hvert sekund, (1000ms)
        

    </script>
    
</body>
</html>